<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Academics</title>
  <link rel="stylesheet" href="academics.css"> <!-- Link to updated CSS -->
  <link rel="stylesheet" href="whole.css">
  <! ===== font import ====>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

</head>
<body>
  <!-- Main Container -->
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <h1 class="logo">ADITYA <h6>DEGREE COLLEGE</h6> </h1>
      <nav>
        <br>
        <ul>
          <li><a href="home.html">Dashboard</a></li>
          <li><a href="attendance.html">Attendance</a></li>
          <li><a href="" class="active">Academics</a></li>
          <li><a href="competetive.html">Competetive</a></li>
          <li><a href="fee.html">Fees Details</a></li>
          <li><a href="profile.html">Profile</a></li>
        </ul>
      </nav>
    </aside>

    <!-- Main Academics Content -->
    <main class="page">
      <section class="header">
        <h2>Academics</h2>
        <div class="profile">
          <img src="teja.jpg" alt="Profile Picture">
          <p>K.Y.S.Teja</p>
        </div>
      </section>

      <!-- Overall Academics Section -->
      <section class="overall-academics">
        <h3>Academics</h3>
        <p class="overall-percentage">95%</p>
        <canvas id="overallCanvas" width="150" height="50"></canvas>
      </section>

      <!-- Individual Metrics -->
      <section class="academics-metrics">
        <div class="card">
            <h5>Sem-1</h5>
            <div class="subjects"></div>
        </div>

        <div class="card">
            <h5>Sem-2</h5>
            <div class="subjects"></div>
        </div>

        <div class="card">
            <h5>Sem-3</h5>
            <div class="subjects"></div>
        </div>

        <div class="card">
            <h5>Sem-4</h5>
            <div class="subjects"></div>
        </div>

      </section>
    </main>
  </div>
<script>
  const canvas = document.getElementById("overallCanvas");
  const ctx = canvas.getContext("2d");
  const percentage = 95; // Change this value dynamically from database or backend

  function resizeCanvas() {
      canvas.width = document.querySelector(".overall-academics").clientWidth;
      canvas.height = document.querySelector(".overall-academics").clientHeight;
  }

  window.addEventListener("resize", resizeCanvas);
  resizeCanvas();

  function getColor(percentage) {
      // Convert percentage to a gradient from red (0%) to green (100%)
      let red = Math.max(0, 255 - (percentage * 2.55));
      let green = Math.min(255, percentage * 2.55);
      return `rgb(${red}, ${green}, 0)`;
  }

  function drawWave() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.beginPath();

      let waveHeight = 20; // Height of the wave motion
      let waveLength = canvas.width / 10; // Length of the wave
      let speed = Date.now() * 0.005; // Speed of animation

      // Fill level based on percentage
      let fillLevel = canvas.height - (percentage / 100) * canvas.height;

      ctx.moveTo(0, canvas.height);
      
      for (let i = 0; i < canvas.width; i++) {
          let y = Math.sin(i / waveLength + speed) * waveHeight + fillLevel;
          ctx.lineTo(i, y);
      }

      ctx.lineTo(canvas.width, canvas.height);
      ctx.lineTo(0, canvas.height);
      ctx.closePath();

      // Dynamic Color Based on Percentage
      ctx.fillStyle = getColor(percentage);
      ctx.fill();

      requestAnimationFrame(drawWave);
  }

  drawWave();
</script>

</body>
</html>